(()=>{"use strict";var e={devicePixelsPerUnit:50};function t(e,t){return e+t}var i,n="#333",r="#010",o=function(){function i(e,t,i,n){this.branches=[],this.x=0,this.y=0,this.angle=e,this.depth=t,this.maxSize=i,this.size=0,this.growthRateModifier=n*(.5+.5*Math.random())}return i.prototype.advance=function(e,t){var i=this.size===this.maxSize;if(!i){var n=t*this.growthRateModifier,r=this.size;this.size=Math.min(this.size+n,this.maxSize),r===this.size&&(i=!0),this.maybeBranch(n)}this.draw(e);for(var o=0,s=this.branches;o<s.length;o++)i=s[o].advance(e,t)&&i;return i},i.prototype.maybeBranch=function(e){var t=this.size/this.maxSize;if(t<.9&&t>.1&&this.depth>0&&4.5*Math.random()<e){var n=(Math.random()>.5?1:-1)*(.25*Math.random()+.25)*Math.PI,r=this.angle+n,o=(this.maxSize-this.size)*(.33+.33*Math.random()),s=this.depth-1,a=this.size,h=new i(r,s,o,.5*this.growthRateModifier),d=this.getCoordinatesAtSize(a);h.x=d.x,h.y=d.y,this.branches.push(h)}},i.prototype.draw=function(t){var i=this.getCoordinatesAtSize(this.size);t.fillStyle=n;var o,s,a,h,d=this.getBaseOffset();t.beginPath(),t.moveTo(i.x*e.devicePixelsPerUnit,i.y*e.devicePixelsPerUnit),t.lineTo((this.x+d.x1)*e.devicePixelsPerUnit,(this.y+d.y1)*e.devicePixelsPerUnit),t.lineTo(this.x*e.devicePixelsPerUnit,this.y*e.devicePixelsPerUnit),t.lineTo((this.x+d.x2)*e.devicePixelsPerUnit,(this.y+d.y2)*e.devicePixelsPerUnit),t.fill(),d.y1>d.y2?(o=d.x1,a=d.y1,s=d.x2,h=d.y2):(o=d.x2,a=d.y2,s=d.x1,h=d.y1),t.strokeStyle=r,t.lineWidth=1;for(var c=7;c<=10;c++)t.beginPath(),t.moveTo(i.x*e.devicePixelsPerUnit,i.y*e.devicePixelsPerUnit),t.lineTo((this.x+o*c/10)*e.devicePixelsPerUnit,(this.y+a*c/10)*e.devicePixelsPerUnit),t.stroke();t.strokeStyle="#544",t.lineWidth=1,t.beginPath(),t.moveTo(i.x*e.devicePixelsPerUnit,i.y*e.devicePixelsPerUnit),t.lineTo((this.x+.9*s)*e.devicePixelsPerUnit,(this.y+.9*h)*e.devicePixelsPerUnit),t.stroke(),t.beginPath(),t.moveTo(i.x*e.devicePixelsPerUnit,i.y*e.devicePixelsPerUnit),t.lineTo((this.x+s)*e.devicePixelsPerUnit,(this.y+h)*e.devicePixelsPerUnit),t.stroke()},i.prototype.getCoordinatesAtSize=function(e){var t=e;return{x:this.x+Math.cos(this.angle)*t,y:this.y+Math.sin(this.angle)*t}},i.prototype.getBaseOffset=function(){var e=.05*this.size,t=this.angle+Math.PI/4,i=Math.cos(t)*e,n=Math.sin(t)*e,r=this.angle-Math.PI/4;return{x1:i,y1:n,x2:Math.cos(r)*e,y2:Math.sin(r)*e}},i.prototype.getTotalCount=function(){return 1+this.branches.map(function(e){return e.getTotalCount()}).reduce(t,0)},i.prototype.dispose=function(){for(var e=0,t=this.branches;e<t.length;e++)t[e].dispose();this.branches=[]},i}();!function(e){e[e.A=0]="A",e[e.AS=1]="AS",e[e.B=2]="B",e[e.C=3]="C",e[e.CS=4]="CS",e[e.D=5]="D",e[e.DS=6]="DS",e[e.E=7]="E",e[e.F=8]="F",e[e.FS=9]="FS",e[e.G=10]="G",e[e.GS=11]="GS"}(i||(i={}));var s=[i.A,i.AS,i.B,i.C,i.CS,i.D,i.DS,i.E,i.F,i.FS,i.G,i.GS];function a(e){return e.concat(e.map(function(e){return e+12}))}var h,d,c,l,v,u=[i.C,i.DS,i.F,i.FS,i.G,i.AS],P=a([i.E,i.G,i.A,i.B,i.D]),x=(a(u),a(s)),f=1.5,m=0,y=!1,g=0,w=[],p=!1;function S(){v.className=v.className?"":"hidden"}function M(){var e=g;if(e<c.textContent.length){g++;var t=c.textContent.charAt(e),i=U(t);z(t.charCodeAt(0)),setTimeout(M,i)}}function U(e){l.appendChild(document.createTextNode(e));var t=e.match(/[a-z]/i)?25:100;"\n"===e&&(t=300);var i=t*(.25+.75*Math.random());return v.scrollIntoView(),i}var C,b={};function z(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=P);var n=(!C&&p&&(C=new(window.AudioContext||window.webkitAudioContext)),C);if(!(t&&b[e]||!n)){var r=n.createOscillator(),o=n.createGain();o.gain.value=.25,r.type="sawtooth",r.frequency.value=220*Math.pow(2,i[e%i.length]/12),r.connect(o).connect(n.destination),r.start(n.currentTime),t?b[e]=function(){return r.stop(n.currentTime)}:r.stop(n.currentTime+.05)}}function T(){!function(){for(var e=0,t=w;e<t.length;e++)t[e].dispose();w.length=0,d.reset()}(),A(),y||requestAnimationFrame(E)}function A(){var t=window.devicePixelRatio;e.devicePixelsPerUnit=50*t,h.width=window.innerWidth*t,h.height=window.innerHeight*t;var i=1/t;h.style.transform="scale("+i+","+i+")",function(){d.fillStyle=n,d.fillRect(0,h.height-e.devicePixelsPerUnit*f,h.width,e.devicePixelsPerUnit*f),d.strokeStyle=r,d.lineWidth=1;for(var t=[4,12,16,18,19,20],i=0;i<t.length;i++)d.beginPath(),d.moveTo(0,h.height-f*e.devicePixelsPerUnit*t[i]/20),d.lineTo(h.width,h.height-f*e.devicePixelsPerUnit*t[i]/20),d.stroke()}(),function(){for(var t=Math.max(15,h.width/e.devicePixelsPerUnit*1.3),i=[],n=0;n<t;n++)i.push(Math.random());for(i.sort(),n=i.length-1;n>=0;n--){var r=(.25*Math.random()+1.375)*Math.PI,s=3+Math.round(2*Math.random()),a=h.height/e.devicePixelsPerUnit*(1-i[n]),d=new o(r,s,a*(1-Math.random()*Math.random()*.5),1-i[n]);d.x=h.width*Math.random()/e.devicePixelsPerUnit,d.y=h.height/e.devicePixelsPerUnit-i[n]*f,w.push(d)}}()}function E(e){y=!0;for(var t=(e-m)/1e3*3,i=!0,n=0,r=w;n<r.length;n++)i=r[n].advance(d,t)&&i;m=e,i?y=!1:requestAnimationFrame(E)}function k(){var e=Math.floor(26*Math.random()).toString(16);1===e.length&&(e="0"+e),(new Date).getMilliseconds()%500<250?document.body.style.backgroundColor=e+"0000":document.body.style.backgroundColor="00"+e+"00"}function B(e){p=!0,e.repeat||(z(e.which,!0,x),8===e.which&&l.lastChild&&l.lastChild.remove())}function F(e){if(!e.repeat){var t=String.fromCharCode(e.which);13===e.which?U("\r\n"):U(t)}}function I(e){var t=e.which,i=b[t];i&&(delete b[t],i())}function D(){p=!0}function G(){for(var e in b)b.hasOwnProperty(e)&&b[e]();b={}}addEventListener("load",function(){h=document.getElementById("spike-field"),d=h.getContext("2d"),c=document.getElementById("content-full"),l=document.getElementById("content-text"),v=document.getElementById("cursor"),A(),addEventListener("resize",T),requestAnimationFrame(E),setInterval(k,.25),setInterval(S,500);var e=window.location.hash;e&&(c.innerText=unescape(e.substring(1))),M(),document.body.addEventListener("keypress",F),document.body.addEventListener("keydown",B),document.body.addEventListener("keyup",I),document.body.addEventListener("pointerdown",D),window.addEventListener("blur",G)})})();